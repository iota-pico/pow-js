!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@iota-pico/data/dist/data/trits"),require("@iota-pico/crypto/dist/factories/spongeFactory"),require("@iota-pico/data/dist/data/trytes"),require("@iota-pico/crypto/dist/proofOfWork/proofOfWorkBase"),require("@iota-pico/crypto/dist/error/cryptoError"),require("@iota-pico/core/dist/helpers/objectHelper"),require("@iota-pico/core/dist/helpers/numberHelper")):"function"==typeof define&&define.amd?define("@iota-pico/pow-js",["@iota-pico/data/dist/data/trits","@iota-pico/crypto/dist/factories/spongeFactory","@iota-pico/data/dist/data/trytes","@iota-pico/crypto/dist/proofOfWork/proofOfWorkBase","@iota-pico/crypto/dist/error/cryptoError","@iota-pico/core/dist/helpers/objectHelper","@iota-pico/core/dist/helpers/numberHelper"],e):"object"==typeof exports?exports["@iota-pico/pow-js"]=e(require("@iota-pico/data/dist/data/trits"),require("@iota-pico/crypto/dist/factories/spongeFactory"),require("@iota-pico/data/dist/data/trytes"),require("@iota-pico/crypto/dist/proofOfWork/proofOfWorkBase"),require("@iota-pico/crypto/dist/error/cryptoError"),require("@iota-pico/core/dist/helpers/objectHelper"),require("@iota-pico/core/dist/helpers/numberHelper")):t.IotaPicoPowJs=e(t["@iota-pico/data/dist/data/trits"],t["@iota-pico/crypto/dist/factories/spongeFactory"],t["@iota-pico/data/dist/data/trytes"],t["@iota-pico/crypto/dist/proofOfWork/proofOfWorkBase"],t["@iota-pico/crypto/dist/error/cryptoError"],t["@iota-pico/core/dist/helpers/objectHelper"],t["@iota-pico/core/dist/helpers/numberHelper"])}("undefined"!=typeof self?self:this,function(t,e,r,n,o,i,a){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t){var r,n=function(t){"use strict";var e=1e7,r=7,o=9007199254740992,i=c(o),a=Math.log(o);function u(t,e){return void 0===t?u[0]:void 0!==e?10==+e?U(t):R(t,e):U(t)}function s(t,e){this.value=t,this.sign=e,this.isSmall=!1}function p(t){this.value=t,this.sign=t<0,this.isSmall=!0}function f(t){return-o<t&&t<o}function c(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function l(t){h(t);var r=t.length;if(r<4&&q(t,i)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function h(t){for(var e=t.length;0===t[--e];);t.length=e+1}function y(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function v(t){return t>0?Math.floor(t):Math.ceil(t)}function g(t,r){var n,o,i=t.length,a=r.length,u=new Array(i),s=0,p=e;for(o=0;o<a;o++)s=(n=t[o]+r[o]+s)>=p?1:0,u[o]=n-s*p;for(;o<i;)s=(n=t[o]+s)===p?1:0,u[o++]=n-s*p;return s>0&&u.push(s),u}function d(t,e){return t.length>=e.length?g(t,e):g(e,t)}function m(t,r){var n,o,i=t.length,a=new Array(i),u=e;for(o=0;o<i;o++)n=t[o]-u+r,r=Math.floor(n/u),a[o]=n-r*u,r+=1;for(;r>0;)a[o++]=r%u,r=Math.floor(r/u);return a}function w(t,r){var n,o,i=t.length,a=r.length,u=new Array(i),s=0,p=e;for(n=0;n<a;n++)(o=t[n]-s-r[n])<0?(o+=p,s=1):s=0,u[n]=o;for(n=a;n<i;n++){if(!((o=t[n]-s)<0)){u[n++]=o;break}o+=p,u[n]=o}for(;n<i;n++)u[n]=t[n];return h(u),u}function b(t,r,n){var o,i,a=t.length,u=new Array(a),f=-r,c=e;for(o=0;o<a;o++)i=t[o]+f,f=Math.floor(i/c),i%=c,u[o]=i<0?i+c:i;return"number"==typeof(u=l(u))?(n&&(u=-u),new p(u)):new s(u,n)}function S(t,r){var n,o,i,a,u=t.length,s=r.length,p=y(u+s),f=e;for(i=0;i<u;++i){a=t[i];for(var c=0;c<s;++c)n=a*r[c]+p[i+c],o=Math.floor(n/f),p[i+c]=n-o*f,p[i+c+1]+=o}return h(p),p}function _(t,r){var n,o,i=t.length,a=new Array(i),u=e,s=0;for(o=0;o<i;o++)n=t[o]*r+s,s=Math.floor(n/u),a[o]=n-s*u;for(;s>0;)a[o++]=s%u,s=Math.floor(s/u);return a}function O(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function E(t,r,n){return new s(t<e?_(r,t):S(r,c(t)),n)}function x(t){var r,n,o,i,a=t.length,u=y(a+a),s=e;for(o=0;o<a;o++){n=0-(i=t[o])*i;for(var p=o;p<a;p++)r=i*t[p]*2+u[o+p]+n,n=Math.floor(r/s),u[o+p]=r-n*s;u[o+a]=n}return h(u),u}function L(t,r){var n,o,i,a,u=t.length,s=y(u),p=e;for(i=0,n=u-1;n>=0;--n)i=(a=i*p+t[n])-(o=v(a/r))*r,s[n]=0|o;return[s,0|i]}function P(t,r){var n,o,i=U(r),a=t.value,f=i.value;if(0===f)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new p(v(a/f)),new p(a%f)]:[u[0],t];if(i.isSmall){if(1===f)return[t,u[0]];if(-1==f)return[t.negate(),u[0]];var g=Math.abs(f);if(g<e){o=l((n=L(a,g))[0]);var d=n[1];return t.sign&&(d=-d),"number"==typeof o?(t.sign!==i.sign&&(o=-o),[new p(o),new p(d)]):[new s(o,t.sign!==i.sign),new p(d)]}f=c(g)}var m=q(a,f);if(-1===m)return[u[0],t];if(0===m)return[u[t.sign===i.sign?1:-1],u[0]];o=(n=a.length+f.length<=200?function(t,r){var n,o,i,a,u,s,p,f=t.length,c=r.length,h=e,v=y(r.length),g=r[c-1],d=Math.ceil(h/(2*g)),m=_(t,d),w=_(r,d);for(m.length<=f&&m.push(0),w.push(0),g=w[c-1],o=f-c;o>=0;o--){for(n=h-1,m[o+c]!==g&&(n=Math.floor((m[o+c]*h+m[o+c-1])/g)),i=0,a=0,s=w.length,u=0;u<s;u++)i+=n*w[u],p=Math.floor(i/h),a+=m[o+u]-(i-p*h),i=p,a<0?(m[o+u]=a+h,a=-1):(m[o+u]=a,a=0);for(;0!==a;){for(n-=1,i=0,u=0;u<s;u++)(i+=m[o+u]-h+w[u])<0?(m[o+u]=i+h,i=0):(m[o+u]=i,i=1);a+=i}v[o]=n}return m=L(m,d)[0],[l(v),l(m)]}(a,f):function(t,r){for(var n,o,i,a,u,s=t.length,p=r.length,f=[],c=[],y=e;s;)if(c.unshift(t[--s]),h(c),q(c,r)<0)f.push(0);else{i=c[(o=c.length)-1]*y+c[o-2],a=r[p-1]*y+r[p-2],o>p&&(i=(i+1)*y),n=Math.ceil(i/a);do{if(q(u=_(r,n),c)<=0)break;n--}while(n);f.push(n),c=w(c,u)}return f.reverse(),[l(f),l(c)]}(a,f))[0];var b=t.sign!==i.sign,S=n[1],O=t.sign;return"number"==typeof o?(b&&(o=-o),o=new p(o)):o=new s(o,b),"number"==typeof S?(O&&(S=-S),S=new p(S)):S=new s(S,O),[o,S]}function q(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function M(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(25)||void 0))}s.prototype=Object.create(u.prototype),p.prototype=Object.create(u.prototype),s.prototype.add=function(t){var e=U(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new s(m(r,Math.abs(n)),this.sign):new s(d(r,n),this.sign)},s.prototype.plus=s.prototype.add,p.prototype.add=function(t){var e=U(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(f(r+n))return new p(r+n);n=c(Math.abs(n))}return new s(m(n,Math.abs(r)),r<0)},p.prototype.plus=p.prototype.add,s.prototype.subtract=function(t){var e=U(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?b(r,Math.abs(n),this.sign):function(t,e,r){var n;return q(t,e)>=0?n=w(t,e):(n=w(e,t),r=!r),"number"==typeof(n=l(n))?(r&&(n=-n),new p(n)):new s(n,r)}(r,n,this.sign)},s.prototype.minus=s.prototype.subtract,p.prototype.subtract=function(t){var e=U(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new p(r-n):b(n,Math.abs(r),r>=0)},p.prototype.minus=p.prototype.subtract,s.prototype.negate=function(){return new s(this.value,!this.sign)},p.prototype.negate=function(){var t=this.sign,e=new p(-this.value);return e.sign=!t,e},s.prototype.abs=function(){return new s(this.value,!1)},p.prototype.abs=function(){return new p(Math.abs(this.value))},s.prototype.multiply=function(t){var r,n=U(t),o=this.value,i=n.value,a=this.sign!==n.sign;if(n.isSmall){if(0===i)return u[0];if(1===i)return this;if(-1===i)return this.negate();if((r=Math.abs(i))<e)return new s(_(o,r),a);i=c(r)}return function(t,e){return-.012*t-.012*e+15e-6*t*e>0}(o.length,i.length)?new s(function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return S(e,r);n=Math.ceil(n/2);var o=e.slice(n),i=e.slice(0,n),a=r.slice(n),u=r.slice(0,n),s=t(i,u),p=t(o,a),f=d(d(s,O(w(w(t(d(i,o),d(u,a)),s),p),n)),O(p,2*n));return h(f),f}(o,i),a):new s(S(o,i),a)},s.prototype.times=s.prototype.multiply,p.prototype._multiplyBySmall=function(t){return f(t.value*this.value)?new p(t.value*this.value):E(Math.abs(t.value),c(Math.abs(this.value)),this.sign!==t.sign)},s.prototype._multiplyBySmall=function(t){return 0===t.value?u[0]:1===t.value?this:-1===t.value?this.negate():E(Math.abs(t.value),this.value,this.sign!==t.sign)},p.prototype.multiply=function(t){return U(t)._multiplyBySmall(this)},p.prototype.times=p.prototype.multiply,s.prototype.square=function(){return new s(x(this.value),!1)},p.prototype.square=function(){var t=this.value*this.value;return f(t)?new p(t):new s(x(c(Math.abs(this.value))),!1)},s.prototype.divmod=function(t){var e=P(this,t);return{quotient:e[0],remainder:e[1]}},p.prototype.divmod=s.prototype.divmod,s.prototype.divide=function(t){return P(this,t)[0]},p.prototype.over=p.prototype.divide=s.prototype.over=s.prototype.divide,s.prototype.mod=function(t){return P(this,t)[1]},p.prototype.remainder=p.prototype.mod=s.prototype.remainder=s.prototype.mod,s.prototype.pow=function(t){var e,r,n,o=U(t),i=this.value,a=o.value;if(0===a)return u[1];if(0===i)return u[0];if(1===i)return u[1];if(-1===i)return o.isEven()?u[1]:u[-1];if(o.sign)return u[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&f(e=Math.pow(i,a)))return new p(v(e));for(r=this,n=u[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},p.prototype.pow=s.prototype.pow,s.prototype.modPow=function(t,e){if(t=U(t),(e=U(e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=u[1],n=this.mod(e);t.isPositive();){if(n.isZero())return u[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},p.prototype.modPow=s.prototype.modPow,s.prototype.compareAbs=function(t){var e=U(t),r=this.value,n=e.value;return e.isSmall?1:q(r,n)},p.prototype.compareAbs=function(t){var e=U(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=U(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:q(r,n)*(this.sign?-1:1)},s.prototype.compareTo=s.prototype.compare,p.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=U(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},p.prototype.compareTo=p.prototype.compare,s.prototype.equals=function(t){return 0===this.compare(t)},p.prototype.eq=p.prototype.equals=s.prototype.eq=s.prototype.equals,s.prototype.notEquals=function(t){return 0!==this.compare(t)},p.prototype.neq=p.prototype.notEquals=s.prototype.neq=s.prototype.notEquals,s.prototype.greater=function(t){return this.compare(t)>0},p.prototype.gt=p.prototype.greater=s.prototype.gt=s.prototype.greater,s.prototype.lesser=function(t){return this.compare(t)<0},p.prototype.lt=p.prototype.lesser=s.prototype.lt=s.prototype.lesser,s.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},p.prototype.geq=p.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals,s.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},p.prototype.leq=p.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals,s.prototype.isEven=function(){return 0==(1&this.value[0])},p.prototype.isEven=function(){return 0==(1&this.value)},s.prototype.isOdd=function(){return 1==(1&this.value[0])},p.prototype.isOdd=function(){return 1==(1&this.value)},s.prototype.isPositive=function(){return!this.sign},p.prototype.isPositive=function(){return this.value>0},s.prototype.isNegative=function(){return this.sign},p.prototype.isNegative=function(){return this.value<0},s.prototype.isUnit=function(){return!1},p.prototype.isUnit=function(){return 1===Math.abs(this.value)},s.prototype.isZero=function(){return!1},p.prototype.isZero=function(){return 0===this.value},s.prototype.isDivisibleBy=function(t){var e=U(t),r=e.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(e).equals(u[0])))},p.prototype.isDivisibleBy=s.prototype.isDivisibleBy,s.prototype.isPrime=function(){var t=M(this);if(void 0!==t)return t;for(var e,r,o,i,a=this.abs(),s=a.prev(),p=[2,3,5,7,11,13,17,19],f=s;f.isEven();)f=f.divide(2);for(o=0;o<p.length;o++)if(!(i=n(p[o]).modPow(f,a)).equals(u[1])&&!i.equals(s)){for(r=!0,e=f;r&&e.lesser(s);e=e.multiply(2))(i=i.square().mod(a)).equals(s)&&(r=!1);if(r)return!1}return!0},p.prototype.isPrime=s.prototype.isPrime,s.prototype.isProbablePrime=function(t){var e=M(this);if(void 0!==e)return e;for(var r=this.abs(),o=void 0===t?5:t,i=0;i<o;i++)if(!n.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1;return!0},p.prototype.isProbablePrime=s.prototype.isProbablePrime,s.prototype.modInv=function(t){for(var e,r,o,i=n.zero,a=n.one,u=U(t),s=this.abs();!s.equals(n.zero);)e=u.divide(s),r=i,o=u,i=a,u=s,a=r.subtract(e.multiply(a)),s=o.subtract(e.multiply(s));if(!u.equals(1))throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(t)),this.isNegative()?i.negate():i},p.prototype.modInv=s.prototype.modInv,s.prototype.next=function(){var t=this.value;return this.sign?b(t,1,this.sign):new s(m(t,1),this.sign)},p.prototype.next=function(){var t=this.value;return t+1<o?new p(t+1):new s(i,!1)},s.prototype.prev=function(){var t=this.value;return this.sign?new s(m(t,1),!0):b(t,1,this.sign)},p.prototype.prev=function(){var t=this.value;return t-1>-o?new p(t-1):new s(i,!0)};for(var N=[1];2*N[N.length-1]<=e;)N.push(2*N[N.length-1]);var j=N.length,T=N[j-1];function I(t){return("number"==typeof t||"string"==typeof t)&&+Math.abs(t)<=e||t instanceof s&&t.value.length<=1}function k(t,e,r){e=U(e);for(var o=t.isNegative(),i=e.isNegative(),a=o?t.not():t,u=i?e.not():e,s=0,p=0,f=null,c=null,l=[];!a.isZero()||!u.isZero();)s=(f=P(a,T))[1].toJSNumber(),o&&(s=T-1-s),p=(c=P(u,T))[1].toJSNumber(),i&&(p=T-1-p),a=f[0],u=c[0],l.push(r(s,p));for(var h=0!==r(o?1:0,i?1:0)?n(-1):n(0),y=l.length-1;y>=0;y-=1)h=h.multiply(T).add(n(l[y]));return h}s.prototype.shiftLeft=function(t){if(!I(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftRight(-t);var e=this;if(e.isZero())return e;for(;t>=j;)e=e.multiply(T),t-=j-1;return e.multiply(N[t])},p.prototype.shiftLeft=s.prototype.shiftLeft,s.prototype.shiftRight=function(t){var e;if(!I(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftLeft(-t);for(var r=this;t>=j;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(e=P(r,T))[1].isNegative()?e[0].prev():e[0],t-=j-1}return(e=P(r,N[t]))[1].isNegative()?e[0].prev():e[0]},p.prototype.shiftRight=s.prototype.shiftRight,s.prototype.not=function(){return this.negate().prev()},p.prototype.not=s.prototype.not,s.prototype.and=function(t){return k(this,t,function(t,e){return t&e})},p.prototype.and=s.prototype.and,s.prototype.or=function(t){return k(this,t,function(t,e){return t|e})},p.prototype.or=s.prototype.or,s.prototype.xor=function(t){return k(this,t,function(t,e){return t^e})},p.prototype.xor=s.prototype.xor;var A=1<<30,B=(e&-e)*(e&-e)|A;function H(t){var r=t.value,n="number"==typeof r?r|A:r[0]+r[1]*e|B;return n&-n}function W(t,e){return t=U(t),e=U(e),t.greater(e)?t:e}function F(t,e){return t=U(t),e=U(e),t.lesser(e)?t:e}function G(t,e){if(t=U(t).abs(),e=U(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,o=u[1];t.isEven()&&e.isEven();)r=Math.min(H(t),H(e)),t=t.divide(r),e=e.divide(r),o=o.multiply(r);for(;t.isEven();)t=t.divide(H(t));do{for(;e.isEven();)e=e.divide(H(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return o.isUnit()?t:t.multiply(o)}s.prototype.bitLength=function(){var t=this;return t.compareTo(n(0))<0&&(t=t.negate().subtract(n(1))),0===t.compareTo(n(0))?n(0):n(function t(e,r){if(r.compareTo(e)<=0){var o=t(e,r.square(r)),i=o.p,a=o.e,u=i.multiply(r);return u.compareTo(e)<=0?{p:u,e:2*a+1}:{p:i,e:2*a}}return{p:n(1),e:0}}(t,n(2)).e).add(n(1))},p.prototype.bitLength=s.prototype.bitLength;var R=function(t,e){for(var r=t.length,n=Math.abs(e),o=0;o<r;o++)if("-"!==(f=t[o].toLowerCase())&&/[a-z0-9]/.test(f)){if(/[0-9]/.test(f)&&+f>=n){if("1"===f&&1===n)continue;throw new Error(f+" is not a valid digit in base "+e+".")}if(f.charCodeAt(0)-87>=n)throw new Error(f+" is not a valid digit in base "+e+".")}if(2<=e&&e<=36&&r<=a/Math.log(e)){var i=parseInt(t,e);if(isNaN(i))throw new Error(f+" is not a valid digit in base "+e+".");return new p(parseInt(t,e))}e=U(e);var u=[],s="-"===t[0];for(o=s?1:0;o<t.length;o++){var f,c=(f=t[o].toLowerCase()).charCodeAt(0);if(48<=c&&c<=57)u.push(U(f));else if(97<=c&&c<=122)u.push(U(f.charCodeAt(0)-87));else{if("<"!==f)throw new Error(f+" is not a valid character");var l=o;do{o++}while(">"!==t[o]);u.push(U(t.slice(l+1,o)))}}return J(u,e,s)};function J(t,e,r){var n,o=u[0],i=u[1];for(n=t.length-1;n>=0;n--)o=o.add(t[n].times(i)),i=i.times(e);return r?o.negate():o}function C(t){return t<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t):"<"+t+">"}function Z(t,e){if((e=n(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+t-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var o=!1;if(t.isNegative()&&e.isPositive()&&(o=!0,t=t.abs()),e.equals(1))return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+t)).map(Number.prototype.valueOf,1),isNegative:o};for(var i,a=[],u=t;u.isNegative()||u.compareAbs(e)>=0;){u=(i=u.divmod(e)).quotient;var s=i.remainder;s.isNegative()&&(s=e.minus(s).abs(),u=u.next()),a.push(s.toJSNumber())}return a.push(u.toJSNumber()),{value:a.reverse(),isNegative:o}}function z(t,e){var r=Z(t,e);return(r.isNegative?"-":"")+r.value.map(C).join("")}function D(t){if(f(+t)){var e=+t;if(e===v(e))return new p(e);throw new Error("Invalid integer: "+t)}var n="-"===t[0];n&&(t=t.slice(1));var o=t.split(/e/i);if(o.length>2)throw new Error("Invalid integer: "+o.join("e"));if(2===o.length){var i=o[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==v(i)||!f(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var a=o[0],u=a.indexOf(".");if(u>=0&&(i-=a.length-u-1,a=a.slice(0,u)+a.slice(u+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=a+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);for(var c=[],l=t.length,y=r,g=l-y;l>0;)c.push(+t.slice(g,l)),(g-=y)<0&&(g=0),l-=y;return h(c),new s(c,n)}function U(t){return"number"==typeof t?function(t){if(f(t)){if(t!==v(t))throw new Error(t+" is not an integer.");return new p(t)}return D(t.toString())}(t):"string"==typeof t?D(t):t}s.prototype.toArray=function(t){return Z(this,t)},p.prototype.toArray=function(t){return Z(this,t)},s.prototype.toString=function(t){if(void 0===t&&(t=10),10!==t)return z(this,t);for(var e,r=this.value,n=r.length,o=String(r[--n]);--n>=0;)e=String(r[n]),o+="0000000".slice(e.length)+e;return(this.sign?"-":"")+o},p.prototype.toString=function(t){return void 0===t&&(t=10),10!=t?z(this,t):String(this.value)},s.prototype.toJSON=p.prototype.toJSON=function(){return this.toString()},s.prototype.valueOf=function(){return parseInt(this.toString(),10)},s.prototype.toJSNumber=s.prototype.valueOf,p.prototype.valueOf=function(){return this.value},p.prototype.toJSNumber=p.prototype.valueOf;for(var Y=0;Y<1e3;Y++)u[Y]=new p(Y),Y>0&&(u[-Y]=new p(-Y));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=W,u.min=F,u.gcd=G,u.lcm=function(t,e){return t=U(t).abs(),e=U(e).abs(),t.divide(G(t,e)).multiply(e)},u.isInstance=function(t){return t instanceof s||t instanceof p},u.randBetween=function(t,r){var n=F(t=U(t),r=U(r)),o=W(t,r).subtract(n).add(1);if(o.isSmall)return n.add(Math.floor(Math.random()*o));for(var i=[],a=!0,u=o.value.length-1;u>=0;u--){var f=a?o.value[u]:e,c=v(Math.random()*f);i.unshift(c),c<f&&(a=!1)}return i=l(i),n.add("number"==typeof i?new p(i):new s(i,!1))},u.fromArray=function(t,e,r){return J(t.map(U),U(e||10),r)},u}();void 0!==t&&t.hasOwnProperty("exports")&&(t.exports=n),void 0===(r=function(){return n}.apply(e,[]))||(t.exports=r)}).call(this,r(0)(t))},function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(3),i=r(2),a=function(t){return t&&t.__esModule?t:{default:t}}(r(1)),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=o.SpongeFactory.instance().create("curl");this._hashLength=e.getConstant("HASH_LENGTH"),this._stateLength=e.getConstant("STATE_LENGTH"),this._numberRounds=e.getConstant("NUMBER_OF_ROUNDS"),this._transactionLength=33*this._hashLength,this._nonceLength=this._hashLength/3,this._nonceStart=this._hashLength-this._nonceLength,this._nonceInitStart=this._nonceStart+4;var r=this._nonceLength/3;this._nonceIncrementStart=this._nonceInitStart+r}return function(t,e,r){e&&n(t.prototype,e)}(t,[{key:"searchWithTrytes",value:function(t,e){var r=this.prepare(t),n=this.searchInit(r);return this.search(n,e)}},{key:"search",value:function(t,e){for(var r=!0,n=new Int8Array(this._hashLength),o={low:t.low.slice(),high:t.high.slice()};r;){this.increment(o,this._nonceIncrementStart,this._hashLength);var u={low:o.low.slice(),high:o.high.slice()};this.transform(u);var s=this.isFoundFast(u,e);if(0!==s.toJSNumber()){for(var p=a.default(1);0===p.and(s).toJSNumber();)p=p.shiftLeft(1);r=!1;for(var f=0;f<this._hashLength;f++)n[f]=0===o.low[f].and(p).toJSNumber()?1:0===o.high[f].and(p).toJSNumber()?-1:0}}return i.Trits.fromArray(n).toTrytes()}},{key:"transform",value:function(t){for(var e=0,r=0;r<this._numberRounds;r++)for(var n={low:t.low.slice(),high:t.high.slice()},o=0;o<this._stateLength;o++){var i=n.low[e],a=n.high[e];e+=e<365?364:-365;var u=n.high[e],s=n.low[e].xor(a),p=u.not(),f=i.or(p).and(s);t.low[o]=f.not();var c=i.xor(u);t.high[o]=c.or(f)}}},{key:"increment",value:function(e,r,n){for(var o=r;o<n;o++){if(e.low[o].toJSNumber()!==t.LOW_BITS){e.high[o].toJSNumber()===t.LOW_BITS?e.high[o]=a.default(t.HIGH_BITS):e.low[o]=a.default(t.LOW_BITS);break}e.low[o]=a.default(t.HIGH_BITS),e.high[o]=a.default(t.LOW_BITS)}}},{key:"prepare",value:function(t){var e=o.SpongeFactory.instance().create("curl");e.initialize();var r=i.Trits.fromTrytes(t).toArray();e.absorb(r,0,this._transactionLength-this._hashLength);var n=e.getState();return r.slice(this._transactionLength-this._hashLength,this._transactionLength).forEach(function(t,e){n[e]=t}),n}},{key:"searchInit",value:function(e){var r={low:[],high:[]};return e.forEach(function(e,n){switch(e){case 0:r.low[n]=a.default(t.HIGH_BITS),r.high[n]=a.default(t.HIGH_BITS);break;case 1:r.low[n]=a.default(t.LOW_BITS),r.high[n]=a.default(t.HIGH_BITS);break;default:r.low[n]=a.default(t.HIGH_BITS),r.high[n]=a.default(t.LOW_BITS)}}),this.searchOffset(r,this._nonceStart),r}},{key:"searchOffset",value:function(t,e){t.low[e+0]=a.default("-2635249153387078803",10),t.high[e+0]=a.default("-5270498306774157605",10),t.low[e+1]=a.default("-1010780497189564473",10),t.high[e+1]=a.default("-8086243977516515777",10),t.low[e+2]=a.default("9223336921201902079",10),t.high[e+2]=a.default("-17979214271348737",10),t.low[e+3]=a.default("-18014398375264257",10),t.high[e+3]=a.default("18014398509481983",10)}},{key:"isFoundFast",value:function(e,r){for(var n=a.default(t.HIGH_BITS),o=r-1;o>=0;o--){var i=e.low[this._hashLength-1-o],u=e.high[this._hashLength-1-o],s=i.xor(u).not();if(0===(n=n.and(s)).toJSNumber())break}return n}}]),t}();u.HIGH_BITS=-1,u.LOW_BITS=0,e.PearlDiver=u},function(t,e){t.exports=r},function(t,e){t.exports=n},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=a},function(t,e){!function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",p="object"==typeof t,f=e.regeneratorRuntime;if(f)p&&(t.exports=f);else{(f=e.regeneratorRuntime=p?t.exports:{}).wrap=b;var c="suspendedStart",l="suspendedYield",h="executing",y="completed",v={},g={};g[a]=function(){return this};var d=Object.getPrototypeOf,m=d&&d(d(j([])));m&&m!==n&&o.call(m,a)&&(g=m);var w=E.prototype=_.prototype=Object.create(g);O.prototype=w.constructor=E,E.constructor=O,E[s]=O.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},f.awrap=function(t){return{__await:t}},x(L.prototype),L.prototype[u]=function(){return this},f.AsyncIterator=L,f.async=function(t,e,r,n){var o=new L(b(t,e,r,n));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=j,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return u.type="throw",u.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),p=o.call(a,"finallyLoc");if(s&&p){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function b(t,e,r,n){var o=e&&e.prototype instanceof _?e:_,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,e,r){var n=c;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=P(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var s=S(t,e,r);if("normal"===s.type){if(n=r.done?y:l,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=y,r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function S(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function _(){}function O(){}function E(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(t){var e;this._invoke=function(r,n){function i(){return new Promise(function(e,i){!function e(r,n,i,a){var u=S(t[r],t,n);if("throw"!==u.type){var s=u.arg,p=s.value;return p&&"object"==typeof p&&o.call(p,"__await")?Promise.resolve(p.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(p).then(function(t){s.value=t,i(s)},a)}a(u.arg)}(r,n,e,i)})}return e=e?e.then(i,i):i()}}function P(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,P(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=S(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function q(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(q,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(10),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e,r){t.exports=r(11)},function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(r(12));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(9),p=r(8),f=r(7),c=r(6),l=r(5),h=r(4),y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,a(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c.ProofOfWorkBase),function(t,e,r){e&&i(t.prototype,e)}(e,[{key:"singlePow",value:function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t,e){try{var r=i[t](e),a=r.value}catch(t){return void o(t)}r.done?n(a):Promise.resolve(a).then(u,s)}function u(t){a("next",t)}function s(t){a("throw",t)}u()})}}(n.default.mark(function t(e,r){var o,i,a;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(p.ObjectHelper.isType(e,l.Trytes)){t.next=2;break}throw new f.CryptoError("The trytes must be an object of type Trytes");case 2:if(s.NumberHelper.isInteger(r)&&!(r<=0)){t.next=4;break}throw new f.CryptoError("The minWeightMagnitude must be > 0");case 4:return o=(new h.PearlDiver).searchWithTrytes(e,r),i=o.toString(),a=e.toString(),t.abrupt("return",l.Trytes.fromString(a.substr(0,a.length-i.length)+i));case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()}]),e}();e.ProofOfWorkJs=y},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(13))}])});